{"requestURL":"https://t24mobile.com/scripts/controllers/recharges/mobile/mobileThankUCtrlShop.js","requestMethod":"GET","requestHeaders":{"Referer":"https://t24mobile.com/","User-Agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.76 Safari/537.36"},"responseURL":"https://t24mobile.com/scripts/controllers/recharges/mobile/mobileThankUCtrlShop.js","responseStatus":200,"responseStatusText":"OK","responseProtocol":"http/1.1","responseBody":"t24App.controller('mobileThankUCtrlShop', ['$scope','$cookieStore','appService','$log','$stateParams','$state','$window', function($scope,$cookieStore,appService,$log,$stateParams,$state,$window){\r\n\tconsole.log('mobileThankUCtrlShop');\r\n\r\n\tvar mobileNo = $cookieStore.get('globals').currentUser.registeredID;\r\n\tvar customToken = $cookieStore.get('globals').currentUser.customToken;\r\n\r\n\tvar apptoken =  $cookieStore.get('globals').currentUser.appToken;\r\n\t$scope.loggedIn = $cookieStore.get('userloggedIn');\r\n\r\n\tvar txnNo = localStorage.getItem(\"txnNo\");\r\n    var amount = localStorage.getItem(\"amount\");\r\nconsole.log('shop amount :' + amount);\r\n\r\n   $scope.loadGetTxnHistory = function(){\r\n\t\tappService.payUTxnStatusCheck(customToken, mobileNo, txnNo, function(response) {\r\n\r\n            console.log(response.data[0].txnNo);\r\n            \r\n            $scope.txnHistoryDetails = {\r\n            \trechargedNo : mobileNo,\r\n            \ttxnAmt : amount,\r\n            \ttxnDate : '',\r\n            \ttxnNo : response.data[0].txnNo,\r\n            };\r\n\r\n            switch (response.data[0].paymentStatus) {\r\n                case '15050':\r\n                    $scope.status = \"Payment Successful\";\r\n                    break;\r\n                case '15999':\r\n                    $scope.status = \"Payment Failure\";\r\n                    break;\r\n                case '15998':\r\n                    $scope.status = \"Pending : Temporary Failure\";\r\n                    break;\r\n                case '15020':\r\n                    $scope.status = \"Invalid Transaction\";\r\n                    break;\r\n                case '15010':\r\n                    $scope.status = \"Processing\";\r\n                    break;\r\n                default:\r\n                    console.log(\"payment status is not matched\");\r\n                    break;\r\n            }\r\n        });\r\n\t};\r\n\r\n\t/*$scope.loadGetTxnHistory = function(){\r\n\t\tappService.getTxnHistory(customToken,mobileNo,function(response){\r\n\t\t\tconsole.log(\"sdfasdf\",response);\r\n\t\t\tif (response.msgDesc == \"Success\" && response.isSuccessful == true) {\r\n\t\t\t\t$scope.txnHistoryDetails = response.data[response.data.length-1];\r\n\t\t\t\tconsole.log($scope.txnHistoryDetails);\r\n\t\t\t\tappService.payUTxnStatusCheck(customToken,mobileNo,$scope.txnHistoryDetails.txnNo,function(response){\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\tswitch(response.data[0].paymentStatus){\r\n\t\t\t\t\t\tcase '15050': $scope.status = \"Payment Successful\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase '15999': $scope.status = \"Payment Failure\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase '15998': $scope.status = \"Pending : Temporary Failure\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase '15020': $scope.status = \"Invalid Transaction\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase '15010': $scope.status = \"Processing\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault :console.log(\"payment status is not matched\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};*/\r\n\t\r\n\t$scope.loadGetTxnHistory();\r\n\r\n\t$scope.goToRecharge = function(){\r\n\t\t$state.go('twog',{});\r\n\t};\r\n\t$scope.goToShop = function(){\r\n\t\t$state.go('coupons');\r\n\t};\r\n\t$scope.goToBalance = function(){\r\n\t\t$state.go('accounts');\r\n\t};\r\n}]);\r\n","responseBase64":false,"responseHeaders":{"Date":"Fri, 26 May 2017 20:00:29 GMT","Content-Encoding":"gzip","ETag":"\"78dca7d9d38cd21:0\"","Last-Modified":"Wed, 22 Feb 2017 06:21:06 GMT","Server":"Microsoft-IIS/7.5","X-Powered-By":"ASP.NET","Vary":"Accept-Encoding","Content-Type":"application/x-javascript","Access-Control-Allow-Origin":"*","Accept-Ranges":"bytes","Content-Length":"1061"}}