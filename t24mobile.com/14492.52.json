{"requestURL":"https://t24mobile.com/scripts/controllers/recharges/mobile/mobileRechargeCtrlShop.js","requestMethod":"GET","requestHeaders":{"Referer":"https://t24mobile.com/","User-Agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.76 Safari/537.36"},"responseURL":"https://t24mobile.com/scripts/controllers/recharges/mobile/mobileRechargeCtrlShop.js","responseStatus":200,"responseStatusText":"OK","responseProtocol":"http/1.1","responseBody":"t24App.controller('mobileRechargeCtrlShop', ['$scope','$cookieStore','$state','appService','oxygenServices','$stateParams','$window', function($scope,$cookieStore,$state,appService,oxygenServices,$stateParams,$window){\r\n\tconsole.log('mobileRechargeCtrlShop');\r\n\t\r\n\tvar circle = {\"circles\":[{\"id\":\"CIR001\",\"name\":\"Delhi\"},{\"id\":\"CIR002\",\"name\":\"Mumbai\"},{\"id\":\"CIR003\",\"name\":\"Chennai\"},{\"id\":\"CIR004\",\"name\":\"Kolkata\"},{\"id\":\"CIR005\",\"name\":\"Maharashtra\"},{\"id\":\"CIR006\",\"name\":\"Gujarat\"},{\"id\":\"CIR007\",\"name\":\"Andhra Pradesh\"},{\"id\":\"CIR008\",\"name\":\"Karnataka\"},{\"id\":\"CIR009\",\"name\":\"Tamil Nadu\"},{\"id\":\"CIR010\",\"name\":\"Kerala\"},{\"id\":\"CIR011\",\"name\":\"Punjab\"},{\"id\":\"CIR012\",\"name\":\"Haryana\"},{\"id\":\"CIR013\",\"name\":\"Uttar Pradesh (West)\"},{\"id\":\"CIR014\",\"name\":\"Uttar Pradesh (East)\"},{\"id\":\"CIR015\",\"name\":\"Rajasthan\"},{\"id\":\"CIR016\",\"name\":\"Madhya Pradesh\"},{\"id\":\"CIR017\",\"name\":\"West Bengal& AN Island\"},{\"id\":\"CIR018\",\"name\":\"Himachal Pradesh\"},{\"id\":\"CIR019\",\"name\":\"Bihar & Jharkhand\"},{\"id\":\"CIR020\",\"name\":\"Orissa\"},{\"id\":\"CIR021\",\"name\":\"Assam\"},{\"id\":\"CIR022\",\"name\":\"Northeast\"},{\"id\":\"CIR023\",\"name\":\"J&K\"},{\"id\":\"CIR024\",\"name\":\"Uttaranchal\"}]};\r\n\t$scope.circles = circle.circles;\r\n\t/*var op = {\"operators\":[{\"id\":\"OPR001\",\"name\":\"VODAFONE\"},{\"id\":\"OPR002\",\"name\":\"AIRTEL\"},{\"id\":\"OPR003\",\"name\":\"AIRCEL\"},{\"id\":\"OPR004\",\"name\":\"IDEA\"},{\"id\":\"OPR005\",\"name\":\"BSNL\"},{\"id\":\"OPR006\",\"name\":\"MTNL\"},{\"id\":\"OPR007\",\"name\":\"INDICOM\"},{\"id\":\"OPR008\",\"name\":\"DOCOMO\"},{\"id\":\"OPR009\",\"name\":\"LOOP\"},{\"id\":\"OPR010\",\"name\":\"RELIANCE CDMA\"},{\"id\":\"OPR011\",\"name\":\"RELIANCE GSM\"},{\"id\":\"OPR012\",\"name\":\"MTS\"},{\"id\":\"OPR013\",\"name\":\"CONNECT\"},{\"id\":\"OPR014\",\"name\":\"UNINOR\"},{\"id\":\"OPR015\",\"name\":\"VIDEOCON\"},{\"id\":\"OPR016\",\"name\":\"VIRGIN\"}]};\r\n\t$scope.operators = op.operators;\r\n\tconsole.log($scope.operators);\r\n*/\r\n\tvar mobileNo = $cookieStore.get('globals').currentUser.registeredID;\r\n\tvar customToken = $cookieStore.get('globals').currentUser.customToken;\r\n\r\n\tvar apptoken =  $cookieStore.get('globals').currentUser.appToken;\r\n\t$scope.loggedIn = $cookieStore.get('userloggedIn');\r\n\tvar s =  $cookieStore.get('invisible');\r\n    $scope.invisible = s;\r\n\r\n\tappService.getOperator(apptoken,function(response){\r\n\t\t$scope.operators = response.data;\r\n\t\t//console.log($scope.operators);\r\n\t});\r\n\tappService.getCircle(apptoken,function(response){\r\n\t\t$scope.circles = response.data;\r\n\t\t//console.log($scope.circles);\r\n\t});\r\n\t$scope.rechrageType = {name:'PREPAID'};\r\n\t\r\n\t$scope.loadGetOperatorInfo = function(){\r\n\t\t//console.log($scope.mobileNo);\r\n\t\tappService.getProfile(mobileNo,customToken,function(response){\r\n\t\t\tconsole.log(response);\r\n\t\t\t// Is user is t24 customer true else others\r\n\t\t\tif (response.data.t24Cust) {\r\n\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\t\r\n\r\n\t\t//oxygenServices.getOperatorInfo('918884121940',function(response){\t\r\n\t\t\t\tvar response = \"<Wallet><ResponseCode>0</ResponseCode><ResponseMessage>Success</ResponseMessage><ReferenceId>135062</ReferenceId><Operator>VODAFONE</Operator><OperatorAlias>VODA</OperatorAlias><Region>KARNATAKA</Region><RegionAlias>KK</RegionAlias></Wallet>\";\r\n\t\t\t\tvar data = new X2JS().xml_str2json(response);\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tconsole.log(data.Wallet.Region);\r\n\t\t\t\t// $scope.operators = {id:data.Wallet.ReferenceId,name:data.Wallet.Operator} ;\r\n\t\t\t\t// $scope.circles = {id:data.Wallet.ReferenceId,circle:data.Wallet.Region} ;\r\n\t\t\t\r\n\t\t\t/*$scope.operators = [{id:\"OPR001\",name:\"VODAFONE\"}] ;\r\n\t\t\t$scope.circles = [{id:\"CIR001\",name:\"Delhi\"}] ;\r\n\r\n\t\t\t$scope.operators.splice(2, 0, {id:\"OPR001\",name:\"VODAFONE\"});\r\n\t\t\t$scope.form ={operator:$scope.operators[0]};\r\n\t\t\tconsole.log($scope.operators[0]);\r\n\t\t\tconsole.log($scope.operator);*/\r\n\r\n\t\t\t$scope.operators.splice(0, 0, {operatorId:\"OPR008\",operatorName:\"DOCOMO\"});\r\n\t\t\t$scope.circles.splice(0, 0, {circleId:\"CIR008\",circleName:\"Karnataka\"});\r\n\t\t\t\r\n\t\t\t$scope.cc ={circle:$scope.circles[0]};\r\n\t\t\t$scope.op ={operator:$scope.operators[0]};\r\n\t\t//});\r\n\t};\r\n\t// $scope.mobileNo = mobileNo;\r\n\t$scope.recharge = function(op,cc){\r\n\t\tconsole.log($scope.rechrageType.name);\r\n\t\tconsole.log($scope.mobileNo);\r\n\t\t/*console.log($scope.op.operator.id);\t\t\r\n\t\tconsole.log($scope.cc.circle.id);*/\r\n\t\tconsole.log(op.operator.operatorId);\r\n\t\tconsole.log(cc);\r\n\t\t$state.go('selectRechargeShop', {'promoCode':$stateParams.promoCode,'mobileNo':$scope.mobileNo,'rechargeType':$scope.rechrageType.name,'operator':op.operator.operatorId,'circle':cc.circle.circleId});\r\n\r\n\t}\r\n}]);\r\n","responseBase64":false,"responseHeaders":{"Date":"Fri, 26 May 2017 20:00:29 GMT","Content-Encoding":"gzip","ETag":"\"66fc9cccdb8cd21:0\"","Last-Modified":"Wed, 22 Feb 2017 07:18:00 GMT","Server":"Microsoft-IIS/7.5","X-Powered-By":"ASP.NET","Vary":"Accept-Encoding","Content-Type":"application/x-javascript","Access-Control-Allow-Origin":"*","Accept-Ranges":"bytes","Content-Length":"1727"}}