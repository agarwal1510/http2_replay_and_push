{"requestURL":"https://t24mobile.com/scripts/services/authService.js","requestMethod":"GET","requestHeaders":{"Referer":"https://t24mobile.com/","User-Agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.76 Safari/537.36"},"responseURL":"https://t24mobile.com/scripts/services/authService.js","responseStatus":200,"responseStatusText":"OK","responseProtocol":"http/1.1","responseBody":"\r\nt24App.factory('authService',function($http,$rootScope,$cookieStore){\r\n\t//console.log('User Services');\r\n\tvar service = {};\r\n    //var BASE_URL = 'http://devapi.fgsf.in/T24RESTApi/';\r\n    var BASE_URL ='https://www.fgsf.in/T24RESTApi/';\r\n    \r\n    \r\n\t//service.invisible = true;\r\n    //console.log($cookieStore.get('userloggedIn'));\r\n    if($cookieStore.get('userloggedIn')==1){\r\n        $cookieStore.put('invisible',false);\r\n    }\r\n    else{\r\n        $cookieStore.put('invisible',true);\r\n    }\r\n    \r\n\tservice.getDashBoardDetails = function(callback){}\r\n\r\n\tservice.setCredentials = function(appToken,customToken,registeredID) {\r\n           // var authdata = Base64.encode(email + ':' + password);\r\n\r\n            $rootScope.globals = {\r\n                currentUser: {\r\n                \tappToken:appToken,\r\n                    customToken:customToken,\r\n                    registeredID:registeredID\r\n                }\r\n            };\r\n\r\n            //$http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line\r\n            $cookieStore.put('globals', $rootScope.globals);\r\n    }\r\n\r\n    service.clearCredentials = function () {\r\n        $rootScope.globals = {};\r\n        $cookieStore.remove('globals');\r\n        $http.defaults.headers.common.Authorization = 'Basic ';\r\n    }\r\n\r\n\tservice.getAppToken = function(registeredID,userId,password,callback){\r\n\t\treturn\t$http({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url:BASE_URL+'rest/auth-v1/appToken',\r\n\t\t\t\t\t  data:{requesterId:registeredID,userId:userId,password:password}\r\n\t\t\t\t\t}).success(function (response) {\r\n                 \t\t//console.log(response);\r\n\t\t\t\t\t\tcallback(response);\r\n                \t}).error(function(){\r\n\t\t\t\t\t\tconsole.log('get dashboard error');\t\r\n\t\t\t\t});\r\n\t}\r\n\r\n\t/*service.sendSMS = function(mobileNo,otp,callback){\r\n\t\treturn\t$http({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url:'https://sms6.routesms.com:443/bulksms/bulksms?username=futurettapp&password=futu1378&type=0&dlr=1&destination='+mobileNo+'&source=FUTURE&message=Your one time password for T24 Mobile App is '+otp,\r\n\t\t\t\t\t}).success(function (response) {\r\n                 \t\tconsole.log(response);\r\n\t\t\t\t\t\tcallback(response);\r\n                \t}).error(function(){\r\n\r\n\t\t\t\t\t\tconsole.log('get dashboard error');\t\r\n\t\t\t\t});\r\n\t}*/\r\n\t\r\n\tservice.sendSMS = function(mobileNo,otp,callback){\r\n\t\treturn\t$http({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url:'https://t24mobile.com/sendsms.php?to='+mobileNo+'&otp='+otp,\r\n\t\t\t\t\t}).success(function (response) {\r\n                 \t\tconsole.log(response);\r\n\t\t\t\t\t\tcallback(response);\r\n                \t}).error(function(){\r\n\r\n\t\t\t\t\t\tconsole.log('get dashboard error');\t\r\n\t\t\t\t});\r\n\t}\r\n\r\n\tservice.registerT24 = function(form,appToken,callback){\r\n\t\tconsole.log(\"apptoken : \",appToken);\r\n\t\treturn\t$http({\r\n\t\t\t\t\t  method: 'post',\r\n\t\t\t\t\t  url:BASE_URL+'rest/customer-v1/registration',\r\n\t\t\t\t\t  data:{registeredID:form.mobileNo,firstName:form.firstName,lastName:form.lastName,email:form.email,gender:form.gender,contactNo:form.mobileNo,appToken:appToken,deviceID:\"\",usr1:\"\"}\r\n\t\t\t\t\t}).success(function (response) {\r\n                 \t\t//console.log(response);\r\n\t\t\t\t\t\tcallback(response);\r\n                \t}).error(function(){\r\n\t\t\t\t\t\tconsole.log('get dashboard error');\t\r\n\t\t\t\t});\r\n\t}\r\n\treturn service;\r\n});\r\n// Base64 encoding service used by AuthenticationService\r\n    var Base64 = {\r\n\r\n        keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\r\n\r\n        encode: function (input) {\r\n            var output = \"\";\r\n            var chr1, chr2, chr3 = \"\";\r\n            var enc1, enc2, enc3, enc4 = \"\";\r\n            var i = 0;\r\n\r\n            do {\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n\r\n                enc1 = chr1 >> 2;\r\n                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n                enc4 = chr3 & 63;\r\n\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n\r\n                output = output +\r\n                    this.keyStr.charAt(enc1) +\r\n                    this.keyStr.charAt(enc2) +\r\n                    this.keyStr.charAt(enc3) +\r\n                    this.keyStr.charAt(enc4);\r\n                chr1 = chr2 = chr3 = \"\";\r\n                enc1 = enc2 = enc3 = enc4 = \"\";\r\n            } while (i < input.length);\r\n\r\n            return output;\r\n        },\r\n\r\n        decode: function (input) {\r\n            var output = \"\";\r\n            var chr1, chr2, chr3 = \"\";\r\n            var enc1, enc2, enc3, enc4 = \"\";\r\n            var i = 0;\r\n\r\n            // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\r\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\r\n            if (base64test.exec(input)) {\r\n                window.alert(\"There were invalid base64 characters in the input text.\\n\" +\r\n                    \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\\n\" +\r\n                    \"Expect errors in decoding.\");\r\n            }\r\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n\r\n            do {\r\n                enc1 = this.keyStr.indexOf(input.charAt(i++));\r\n                enc2 = this.keyStr.indexOf(input.charAt(i++));\r\n                enc3 = this.keyStr.indexOf(input.charAt(i++));\r\n                enc4 = this.keyStr.indexOf(input.charAt(i++));\r\n\r\n                chr1 = (enc1 << 2) | (enc2 >> 4);\r\n                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n                chr3 = ((enc3 & 3) << 6) | enc4;\r\n\r\n                output = output + String.fromCharCode(chr1);\r\n\r\n                if (enc3 != 64) {\r\n                    output = output + String.fromCharCode(chr2);\r\n                }\r\n                if (enc4 != 64) {\r\n                    output = output + String.fromCharCode(chr3);\r\n                }\r\n\r\n                chr1 = chr2 = chr3 = \"\";\r\n                enc1 = enc2 = enc3 = enc4 = \"\";\r\n\r\n            } while (i < input.length);\r\n\r\n            return output;\r\n        }\r\n    };","responseBase64":false,"responseHeaders":{"Date":"Fri, 26 May 2017 20:00:28 GMT","Content-Encoding":"gzip","ETag":"\"1c142f6b8378d21:0\"","Last-Modified":"Fri, 27 Jan 2017 09:54:58 GMT","Server":"Microsoft-IIS/7.5","X-Powered-By":"ASP.NET","Vary":"Accept-Encoding","Content-Type":"application/x-javascript","Access-Control-Allow-Origin":"*","Accept-Ranges":"bytes","Content-Length":"2146"}}