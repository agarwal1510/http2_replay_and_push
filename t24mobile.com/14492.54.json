{"requestURL":"https://t24mobile.com/scripts/controllers/recharges/mobile/selectCouponsCtrlShop.js","requestMethod":"GET","requestHeaders":{"Referer":"https://t24mobile.com/","User-Agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.76 Safari/537.36"},"responseURL":"https://t24mobile.com/scripts/controllers/recharges/mobile/selectCouponsCtrlShop.js","responseStatus":200,"responseStatusText":"OK","responseProtocol":"http/1.1","responseBody":"t24App.controller('selectCouponsCtrlShop', ['$scope', 'appService', 'authService','$log', '$stateParams', '$state', '$cookieStore', '$window', function($scope, appService, authService,$log, $stateParams, $state, $cookieStore, $window) {\r\n    var mobileNo = $cookieStore.get('globals').currentUser.registeredID;\r\n    var customToken = $cookieStore.get('globals').currentUser.customToken;\r\n\r\n    var apptoken = $cookieStore.get('globals').currentUser.appToken;\r\n    $scope.loggedIn = $cookieStore.get('userloggedIn');\r\n    var s =  $cookieStore.get('invisible');\r\n    $scope.invisible = s;\r\n\r\n    $scope.loadGetAllList = function() {\r\n        appService.getPromoList(apptoken, \"\", function(response) {\r\n            if (response.isSuccessful == true) {\r\n                $log.info(response);\r\n                $scope.promoListDetails = response.data;\r\n            } else if (response.isSuccessful == false && response.msgDesc == 'Token is Not Valid') {\r\n                //$log.log(response.msgDesc);\r\n                if ($scope.loggedIn == 1) {\r\n                    $scope.invisible = !s; //!authService.invisible;\r\n                    $cookieStore.put('invisible', !s);\r\n                    $cookieStore.put('userloggedIn', 0);\r\n                    authService.clearCredentials();\r\n                    $window.alert('Session Expired ! Please login again.');\r\n                    $state.go('home');\r\n\r\n                } else {\r\n                    $window.alert('Session Expired ! Click OK to start session again');\r\n                    $state.go('home');\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    $scope.loadGetAllList();\r\n\r\n    $scope.couponsFun = function(promoCode) {\r\n        $state.go('mobileVerifyPay', { 'mobileNo': $stateParams.mobileNo, 'rechargeType': $stateParams.rechargeType, 'operator': $stateParams.operator, 'circle': $stateParams.circle, 'amount': $stateParams.amount, 'coupons': promoCode });\r\n\r\n    };\r\n\r\n}]);\r\n","responseBase64":false,"responseHeaders":{"Date":"Fri, 26 May 2017 20:00:29 GMT","Content-Encoding":"gzip","ETag":"\"f4e0c42ada8cd21:0\"","Last-Modified":"Wed, 22 Feb 2017 07:06:19 GMT","Server":"Microsoft-IIS/7.5","X-Powered-By":"ASP.NET","Vary":"Accept-Encoding","Content-Type":"application/x-javascript","Access-Control-Allow-Origin":"*","Accept-Ranges":"bytes","Content-Length":"836"}}