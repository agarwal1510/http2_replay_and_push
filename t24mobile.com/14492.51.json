{"requestURL":"https://t24mobile.com/scripts/controllers/recharges/mobile/mobileThankUCtrl.js","requestMethod":"GET","requestHeaders":{"Referer":"https://t24mobile.com/","User-Agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.76 Safari/537.36"},"responseURL":"https://t24mobile.com/scripts/controllers/recharges/mobile/mobileThankUCtrl.js","responseStatus":200,"responseStatusText":"OK","responseProtocol":"http/1.1","responseBody":"t24App.controller('mobileThankUCtrl', ['$scope', 'appService', '$log', '$stateParams', '$state', '$cookieStore','$window', function($scope, appService, $log, $stateParams, $state, $cookieStore, $window) {\r\n    console.log('mobileThankUCtrl');\r\n\r\n    var mobileNo = $cookieStore.get('globals').currentUser.registeredID;\r\n    var customToken = $cookieStore.get('globals').currentUser.customToken;\r\n\r\n    var apptoken = $cookieStore.get('globals').currentUser.appToken;\r\n    $scope.loggedIn = $cookieStore.get('userloggedIn');\r\n\r\n    var txnNo = localStorage.getItem(\"txnNo\");\r\n    var amount = localStorage.getItem(\"amount\");\r\n    console.log('amount :' + amount);\r\n    $scope.loadGetTxnHistory = function() {\r\n        appService.payUTxnStatusCheck(customToken, mobileNo, txnNo, function(response) {\r\n\r\n            console.log(response.data[0].txnNo);\r\n\r\n            $scope.txnHistoryDetails = {\r\n                rechargedNo: mobileNo,\r\n                txnAmt: amount,\r\n                txnDate: '',\r\n                txnNo: response.data[0].txnNo,\r\n            };\r\n\r\n            switch (response.data[0].paymentStatus) {\r\n                case '15050':\r\n                    $scope.status = \"Payment Successful\";\r\n                    break;\r\n                case '15999':\r\n                    $scope.status = \"Payment Failure\";\r\n                    break;\r\n                case '15998':\r\n                    $scope.status = \"Pending : Temporary Failure\";\r\n                    break;\r\n                case '15020':\r\n                    $scope.status = \"Invalid Transaction\";\r\n                    break;\r\n                case '15010':\r\n                    $scope.status = \"Processing\";\r\n                    break;\r\n                default:\r\n                    console.log(\"payment status is not matched\");\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n\r\n    /*$scope.loadGetTxnHistory = function(){\r\n        appService.getTxnHistory(customToken,mobileNo,function(response){\r\n            console.log(\"sdfasdf\",response);\r\n            if (response.msgDesc == \"Success\" && response.isSuccessful == true) {\r\n                $scope.txnHistoryDetails = response.data[response.data.length-1];\r\n                console.log($scope.txnHistoryDetails);\r\n                appService.payUTxnStatusCheck(customToken,mobileNo,$scope.txnHistoryDetails.txnNo,function(response){\r\n                    console.log(response);\r\n                    switch(response.data[0].paymentStatus){\r\n                        case '15050': $scope.status = \"Payment Successful\";\r\n                        break;\r\n                        case '15999': $scope.status = \"Payment Failure\";\r\n                        break;\r\n                        case '15998': $scope.status = \"Pending : Temporary Failure\";\r\n                        break;\r\n                        case '15020': $scope.status = \"Invalid Transaction\";\r\n                        break;\r\n                        case '15010': $scope.status = \"Processing\";\r\n                        break;\r\n                        default :console.log(\"payment status is not matched\");\r\n                        break;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };*/\r\n\r\n    $scope.loadGetTxnHistory();\r\n\r\n\r\n    $scope.goToRecharge = function() {\r\n        $state.go('twog', {});\r\n    };\r\n    $scope.goToShop = function() {\r\n        $state.go('coupons');\r\n    };\r\n    $scope.goToBalance = function() {\r\n        $state.go('accounts');\r\n    };\r\n}]);\r\n","responseBase64":false,"responseHeaders":{"Date":"Fri, 26 May 2017 20:00:29 GMT","Content-Encoding":"gzip","ETag":"\"6cc0e5d9d38cd21:0\"","Last-Modified":"Wed, 22 Feb 2017 06:21:06 GMT","Server":"Microsoft-IIS/7.5","X-Powered-By":"ASP.NET","Vary":"Accept-Encoding","Content-Type":"application/x-javascript","Access-Control-Allow-Origin":"*","Accept-Ranges":"bytes","Content-Length":"1065"}}